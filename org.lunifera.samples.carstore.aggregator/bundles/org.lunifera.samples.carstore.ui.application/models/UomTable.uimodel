package org.lunifera.samples.carstore.views.sales

ideview UomTableView {
	
	sharedStateGroup "org.lunifera.samples.carstore.sales"
	
	exposedActions {
		deleteEntity id org.lunifera.actions.delete
		saveEntity id org.lunifera.actions.save
		applyFilter id org.lunifera.actions.applyFilter
		newRow id org.lunifera.actions.addNewRow
	} 
	
	datasource ds:org.lunifera.samples.carstore.dtos.general.UnitOfMeasureDto eventTopic "org/lunifera/samples/carstore/UnitOfMeasureDto/selection"

	verticalLayout {
		searchPanel SearchPanel {
			type org.lunifera.samples.carstore.dtos.general.UnitOfMeasureDto
			searchfield number
			searchfield description
		}
		align top-fill

		table UomTable {
			useBeanService
			type org.lunifera.samples.carstore.dtos.general.UnitOfMeasureDto

			columns {	
				column number
				column description
				column family
				column siType
				column dirty
			}
 
 			bind ds --> [this].selection
			bind [this].selection --> sendEvent("org/lunifera/samples/carstore/UnitOfMeasureDto/selection")
		}
		align fill-fill
	}
	align fill-fill

	bind [this.newRow].onClick --> addToTable UomTable
	bind [this.applyFilter].onClick --> [this.SearchPanel].applyFilter
	
}
